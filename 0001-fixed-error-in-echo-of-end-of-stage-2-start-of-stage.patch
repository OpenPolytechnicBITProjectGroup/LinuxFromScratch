From dea9e1c92123afed19df88e6da2b53b2eafb5acf Mon Sep 17 00:00:00 2001
From: lxdnz254 <lxdnz34@gmail.com>
Date: Fri, 3 Nov 2017 20:57:41 +1300
Subject: [PATCH 1/2] fixed error in echo of end of stage 2, start of stage3

---
 scripts/check_s3.sh        | 10 ++++++++++
 scripts/dejagnu_s3.sh      | 11 +++++++++++
 scripts/expect_s3.sh       | 16 ++++++++++++++++
 scripts/lfs_ch5_stage2.sh  |  2 +-
 scripts/lfs_ch5_stage2.sh~ |  6 ++++++
 scripts/lfs_ch5_stage3.sh  |  7 +++++++
 scripts/lfs_ch5_stage3.sh~ |  5 +++++
 scripts/ncurses_s3.sh      |  3 +++
 scripts/tclcore_s3.sh      | 16 ++++++++++++++++
 9 files changed, 75 insertions(+), 1 deletion(-)
 create mode 100644 scripts/check_s3.sh
 create mode 100644 scripts/dejagnu_s3.sh
 create mode 100644 scripts/expect_s3.sh
 create mode 100644 scripts/lfs_ch5_stage2.sh~
 create mode 100644 scripts/lfs_ch5_stage3.sh
 create mode 100644 scripts/lfs_ch5_stage3.sh~
 create mode 100644 scripts/ncurses_s3.sh
 create mode 100644 scripts/tclcore_s3.sh

diff --git a/scripts/check_s3.sh b/scripts/check_s3.sh
new file mode 100644
index 0000000..ae0072e
--- /dev/null
+++ b/scripts/check_s3.sh
@@ -0,0 +1,10 @@
+#!/bin/bash
+cd $LFS/sources
+tar -xf check-0.11.0.tar.gz
+cd check-0.11.0
+#configure and make
+PKG_CONFIG= ./configure --prefix=/tools
+make && make install
+#clean up and exit
+cd $LFS/sources
+rm -rf check-0.11.0
diff --git a/scripts/dejagnu_s3.sh b/scripts/dejagnu_s3.sh
new file mode 100644
index 0000000..9320aef
--- /dev/null
+++ b/scripts/dejagnu_s3.sh
@@ -0,0 +1,11 @@
+#!/bin/bash
+#DejaGNU package
+cd $LFS/sources
+tar -xf dejagnu-1.6.tar.gz
+cd dejagnu-1.6
+#configure and install
+./configure --prefix=/tools
+make install
+#clean and exit
+cd $LFS/sources
+rm -rf dejagnu-1.6
diff --git a/scripts/expect_s3.sh b/scripts/expect_s3.sh
new file mode 100644
index 0000000..b4ec937
--- /dev/null
+++ b/scripts/expect_s3.sh
@@ -0,0 +1,16 @@
+#!/bin/basj
+#expect package for scripted dialogues
+cd $LFS/sources
+tar -xf expect5.45.tar.gz
+cd expect5.45
+#configure the package
+cp -v configure{,.orig}
+sed 's:/usr/local/bin:/bin:' configure.orig > configure
+./configure --prefix=/tools 		\
+	--with-tcl=/tools/lib		\
+	--with-tclinclude=/tools/include
+make
+make SCRIPTS="" install
+#clean up and exit
+cd $LFS/sources
+rm -rf expect5.45
diff --git a/scripts/lfs_ch5_stage2.sh b/scripts/lfs_ch5_stage2.sh
index a966a4c..933891d 100644
--- a/scripts/lfs_ch5_stage2.sh
+++ b/scripts/lfs_ch5_stage2.sh
@@ -3,4 +3,4 @@
 bash libstdc_s2.sh
 bash binutils_s2.sh
 bash gcc_pass2.sh
-echo 'You have reached the end of Chapter 5: stage 2, run "bash test_dummy.sh" to check all is OK before commencing stage 3."
+echo 'You have reached the end of Chapter 5: stage 2, run "bash test_dummy.sh" to check all is OK before commencing stage 3.'
diff --git a/scripts/lfs_ch5_stage2.sh~ b/scripts/lfs_ch5_stage2.sh~
new file mode 100644
index 0000000..a966a4c
--- /dev/null
+++ b/scripts/lfs_ch5_stage2.sh~
@@ -0,0 +1,6 @@
+#!/bin/bash
+#Auto run these scripts
+bash libstdc_s2.sh
+bash binutils_s2.sh
+bash gcc_pass2.sh
+echo 'You have reached the end of Chapter 5: stage 2, run "bash test_dummy.sh" to check all is OK before commencing stage 3."
diff --git a/scripts/lfs_ch5_stage3.sh b/scripts/lfs_ch5_stage3.sh
new file mode 100644
index 0000000..7a3fd24
--- /dev/null
+++ b/scripts/lfs_ch5_stage3.sh
@@ -0,0 +1,7 @@
+#!/bin/bash
+#Auto compiler for stage 3
+bash tclcore_s3.sh
+bash expect_s3.sh
+bash dejagnu_s3.sh
+bash check_s3.sh
+
diff --git a/scripts/lfs_ch5_stage3.sh~ b/scripts/lfs_ch5_stage3.sh~
new file mode 100644
index 0000000..0d9e525
--- /dev/null
+++ b/scripts/lfs_ch5_stage3.sh~
@@ -0,0 +1,5 @@
+#!/bin/bash
+#Auto compiler for stage 3
+bash tclcore_s3.sh
+bash expect_s3.sh
+bash dejagnu_s3.sh
diff --git a/scripts/ncurses_s3.sh b/scripts/ncurses_s3.sh
new file mode 100644
index 0000000..c3ace67
--- /dev/null
+++ b/scripts/ncurses_s3.sh
@@ -0,0 +1,3 @@
+#!/bin/bash
+cd $LFS/sources
+
diff --git a/scripts/tclcore_s3.sh b/scripts/tclcore_s3.sh
new file mode 100644
index 0000000..5f1a61b
--- /dev/null
+++ b/scripts/tclcore_s3.sh
@@ -0,0 +1,16 @@
+#!/bin/bash
+# Installing tclcore
+cd $LFS/sources
+tar -xf tcl-core8.6.7-src.tar.gz
+cd tcl8.6.7
+cd unix
+#configure and make
+./configure --prefix=/tools
+make && make install
+chmod -v u+w /tools/lib/libtcls8.6.so
+# install headers for Expect (the next package)
+make install-private-headers
+ln -sv tclsh8.6 /tools/bin/tclsh
+#Cean up and exit
+cd $LFS/sources
+rm -rf tcl8.6.7
-- 
2.9.0

